---
title: "Write Up"
subtitle: "STA/ISS 313 - Project 2"
author: "Team Spring"
format: html
editor: visual
---

## Introduction 

As North Carolina is usually considered a swing state we are very interested in 
understanding the breakdown of votes and demographics by county. We will be 
examining the breakdown of Democratic vs. Republican votes by county over the 
last six elections as well as the breakdown of different demographics in those 
counties. We decided to focus on sex, age and race for the specific demographics
and we are only examining votes for Presidential elections. 

## Data 

In order to study these breakdowns we found 12 data sets - 6 for the affiliation 
of votes by county and 6 for the demographic breakdown of voters by county. Each
election year from 2000-2020 has two data sets. We found the 6 data sets for 
affiliation from the North Carolina Board of Elections and for the census data we
used dataset from the Office of State Budget and Management. For the election data
we used variables like `Total Votes`, `Choice Party` and `County` and from the ACS 
data we used `age_category`, `sex`, and `race`. We also used a dataset that had the
latitude and longitude coordinates of each county in North Carolina as well 
as a 6 datasets that had the population by county for each of the 6 years we were 
examining. 

## Approach 

Our first step once finding the datasets was to clean them and combine the individual 
6 datasets for the election into 1 data set and the individual 6 datasets for the 
ACS data into one dataset. In order to clean the election data we had to read in 
the individual text files, rename the columns, filter for only Presidential results
and then filter for only the variables we wanted. We also need to add another column 
that had the year of the election. Once we did this for all 6 of the text files 
turned into csv files we combined them all together into `election_data`, and 
then joined with another dataset called `separate_geo` that contained the latitude and longitude coordinates for each county and called this new data `election_data_wide_geo`. 
We then created another dataset called `combined_population` by combining the 6 
datasets we found with the population by county for each of the 6 elections years 
into a single data set with the population for each year and then we joined `combined_population` with `election_data_wide_geo` and created two new columns 
that contained the democratic votes per capita and the republican votes.

Next we cleaned the ACS data which just included reading in each csv for each year
and filtering for the variables we wanted and then binding all 6 of those 
datasets into one `ASC_all`. 

Now that we had our cleaned data, in order to show these breakdowns by county
we will use a Shiny app with two leaflet maps. The first map allows the user to filter by election and county. It shows the breakdown of Democratic vs. Republican votes by population for the specific election chosen and colors from a red to purple scale. It also highlights 
the the county chosen, so it is easier to view specific counties. When you click 
on a county an overview of the number of Republican and Democratic votes is shown.

The second leaflet map shows voting demographics for the same elections and allows 
to filter by either sex, race, age or a combination of the three. The map also 
colors by the filters chosen by percentage of population on a green to white scale.

We chose to use a shiny app with two leaflet maps because it allows easy examination
of the differences from year to year, county to county and from specific filters. 
We also added an animation at the end that shows the county breakdown of dem votes
vs. rep votes over the 6 elections to get a better idea of how the individual 
counties changed. 




